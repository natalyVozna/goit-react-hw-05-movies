"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[627],{627:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r,i=t(982),o=t(885),l=t(639),a=t(115),u=t(712),c=t(791),d=t(731),f=t(168),s=t(444),p=["title","titleId"];function h(){return h=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},h.apply(this,arguments)}function x(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function g(n,e){var t=n.title,i=n.titleId,o=x(n,p);return c.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:e,"aria-labelledby":i},o),t?c.createElement("title",{id:i},t):null,r||(r=c.createElement("path",{d:"M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z"})))}var v,y,w,m,Z,b,j,C=c.forwardRef(g),O=(t.p,s.ZP.header(v||(v=(0,f.Z)(["\n  display: flex;\n  background-color: #2194f2;\n  padding: 16px 40px;\n  width: 100%;\n"])))),P=s.ZP.form(y||(y=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n"]))),k=s.ZP.button(w||(w=(0,f.Z)(["\n  display: inline-flex;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.6;\n\n  :hover {\n    opacity: 1;\n  }\n"]))),_=(0,s.ZP)(C)(m||(m=(0,f.Z)(["\n  width: 26px;\n  height: 28px;\n  fill: var(--text);\n"]))),S=s.ZP.input(Z||(Z=(0,f.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),E=t(184),q=function(){var n=(0,d.lr)(),e=(0,o.Z)(n,2),t=e[0],r=e[1],i=t.get("query"),l=(0,c.useState)(null!==i&&void 0!==i?i:""),a=(0,o.Z)(l,2),u=a[0],f=a[1];return(0,E.jsx)(O,{children:(0,E.jsxs)(P,{onSubmit:function(n){n.preventDefault(),r(""!==u?{query:u,page:1}:{})},children:[(0,E.jsx)(k,{type:"submit",children:(0,E.jsx)(_,{})}),(0,E.jsx)(S,{type:"text",name:"query",value:u,autocomplete:"off",autoFocus:!0,placeholder:"Search films",onChange:function(n){f(n.target.value)}})]})})},F=t(901),N=t(390),I=s.ZP.div(b||(b=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  max-width: 1340px;\n  width: 100%;\n  margin: 0 auto;\n  padding-bottom: 40px;\n"]))),L=s.ZP.div(j||(j=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  gap: 26px;\n  padding: 20px 40px;\n"]))),R=function(){var n,e,t=(0,c.useState)([]),r=(0,o.Z)(t,2),f=r[0],s=r[1],p=(0,c.useState)(!1),h=(0,o.Z)(p,2),x=h[0],g=h[1],v=(0,c.useState)(""),y=(0,o.Z)(v,2),w=y[0],m=y[1],Z=(0,d.lr)(),b=(0,o.Z)(Z,1)[0],j=null!==(n=b.get("query"))&&void 0!==n?n:"",C=null!==(e=b.get("page"))&&void 0!==e?e:1,O=(0,c.useRef)(),P=(0,c.useCallback)((function(n){(0,N.Ph)(n).then((function(n){0===n.results.length&&m("Nothing found"),1!==n.page?s((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(n.results))})):s(n.results)})).catch((function(n){return m(n.message)})).finally(g(!1))}),[]),k=(0,F.i)(P),_=(0,o.Z)(k,3),S=_[0],R=_[1],z=_[2];return(0,c.useEffect)((function(){f.length>0&&O.current&&window.scrollTo({top:O.current.getBoundingClientRect().height+100,left:100,behavior:"smooth"})}),[f]),(0,c.useEffect)((function(){""!==j?(g(!0),S({query:j,page:C})):(s([]),m(""))}),[S,j,C]),R||x?(0,E.jsx)(l.a,{}):z?(0,E.jsx)(u.NotFound,{text:"An error occturred, please try again"}):(0,E.jsxs)(I,{children:[(0,E.jsx)(q,{}),0===(null===f||void 0===f?void 0:f.length)&&w?(0,E.jsx)(u.NotFound,{text:"Nothing found"}):(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(L,{ref:O,children:null===f||void 0===f?void 0:f.map((function(n){var e=n.title,t=n.id,r=n.poster_path;return(0,E.jsx)(a.Z,{title:e,id:t,url:r},t)}))})})]})}}}]);
//# sourceMappingURL=627.d5608612.chunk.js.map